# Installation

## Install ansible-redhat and dependencies

```
pip install ansible-review
```

## Install ansible-review-redhat

```
git clone https://gitlab.infra.prod.eng.rdu2.redhat.com/eng-ops/ansible-review-redhat.git
```

## Install ansible-lint rules

```
cd /path/to/eng-ops/ansible
git pull --rebase upstream master
```

## Create a configuration file

```
mkdir -p ~/.config/ansible-review
vi ~/.config/ansible-review/config.ini
```

```
[rules]
standards = /path/to/ansible-review-redhat
lint = /path/to/ansible/test/ansible-lint
```

# Updating to latest ansible-review

```
pip install --upgrade --no-deps --pre ansible-review ansible-lint
```

```
cd /path/to/ansible-review-redhat
git pull origin master
```

# Run the review

```
ansible-review playbook
```

Role review independent of playbooks should be coming shortly

## False positives

Due to the nature of automated static analysis, there will always be false
positives.

For command/shell checks that suggest you should use a module, you can
disable errors in the same way that you disable command warnings in ansible,
through use of the `warn=no` parameter.

For most other tasks, you can disable the check through adding a
`skip_ansible_lint` tag to the task. (That tag will also work for command/shell
invocations, but won't have an effect on ansible warnings)

If neither of these solutions work, please raise an issue.

